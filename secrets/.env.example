# Environment Variables Template
# Copy this file to .env.{environment} and fill in the values
# DO NOT commit the filled version to Git

# Environment Configuration
PEG_ENV=dev  # dev/test/staging/prod
PROJECT_NAME=truealpha
DOMAIN=truealpha.club

# Database Isolation
DB_TABLE_PREFIX=dev_  # dev_/test_/staging_/prod_

# Neo4j Configuration
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=changeme_secure_password

# PostgreSQL Configuration
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=truealpha
POSTGRES_USER=truealpha
POSTGRES_PASSWORD=changeme_secure_password

# Redis Configuration
REDIS_PASSWORD=changeme_secure_password

# Celery Configuration
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@redis:6379/0
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@redis:6379/1

# Flower (Celery Monitoring)
FLOWER_USER=admin
FLOWER_PASSWORD=changeme_secure_password
FLOWER_BASIC_AUTH_HASH=  # Generate with: htpasswd -nb admin password

# Container Registry (optional)
REGISTRY=ghcr.io
VERSION=latest

# Cloudflare (for DNS management via Terraform)
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token
CLOUDFLARE_ZONE_ID=your_zone_id

# Observability - OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://signoz-otel-collector:4317
OTEL_SERVICE_NAME=backend

# PostHog Analytics
POSTHOG_API_KEY=your_posthog_api_key
POSTHOG_HOST=http://posthog:8000

# Sentry Error Tracking (optional)
SENTRY_DSN=

# JWT/Security (for backend)
SECRET_KEY=changeme_very_long_random_string_at_least_32_chars
JWT_SECRET_KEY=changeme_another_long_random_string
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# Email Configuration (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@truealpha.club

# Object Storage (optional)
S3_ENDPOINT=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_BUCKET=

# PR Preview (test environment only)
PR_NUMBER=
PR_DOMAIN=pr-${PR_NUMBER}.truealpha.club

# API Domain
API_DOMAIN=api.${DOMAIN}

# Backup Configuration
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=/mnt/backup

# Monitoring Thresholds
ALERT_ERROR_RATE_THRESHOLD=0.05
ALERT_LATENCY_P95_THRESHOLD_MS=1000
