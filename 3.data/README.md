# 3.data (Data Layer / Layer 3)

**Scope**:
- **Relational**: Business PostgreSQL (Application data)
- **Cache**: Redis
- **Graph**: Neo4j
- **OLAP**: ClickHouse
- **Namespace**: `data`

## Architecture

This layer provides stateful services for **Business Applications**.

*Note: Platform DB (for Infisical) is in L2 (platform).*

### Patterns

- **Passwords**: Generated by Terraform `random_password`, written to Infisical, read by Helm
- **Persistence**: Longhorn (or HostPath) PVCs

### Components (Planned)

| Component | Purpose | Credentials |
|-----------|---------|-------------|
| Business PostgreSQL | Application data | Infisical: `/data/postgres` |
| Redis | Cache layer | Infisical: `/data/redis` |
| Neo4j | Graph database | Infisical: `/data/neo4j` |
| ClickHouse | Analytics/OLAP | Infisical: `/data/clickhouse` |

### Usage

```bash
terraform apply -target="module.data"
```

---
*Last updated: 2025-12-08*
