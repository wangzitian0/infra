# 4.storage (Data Services / Layer 4)

**Scope**:
- **Relational**: Business PostgreSQL (Application data).
- **Cache**: Redis.
- **Graph**: Neo4j.
- **Namespace**: `data`.

## Architecture (Phase 2.x)

This layer provides stateful services for **Business Applications**.
*Note: The Platform DB (for Infisical) is in Layer 2.*

### Patterns
- **Passwords**: Generated by Terraform `random_password`, written to Infisical, read by Helm.
- **Persistence**: Longhorn (or HostPath) PVCs.

### Components
1. **Business PostgreSQL**:
   - Independent of Platform DB.
   - Credentials stored in Infisical: `/data/postgres`.
2. **Redis**:
   - Standard cache layer.
3. **Neo4j/ClickHouse**:
   - Analytics and Graph data.
