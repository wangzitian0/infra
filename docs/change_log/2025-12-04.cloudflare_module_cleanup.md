# 2025-12-04 — Cloudflare 模块字段去重（BRN-004）

## 做了什么
- 清理 `terraform/modules/cloudflare/main.tf` 重复的 locals/name/comment 定义，避免后续接线 Cloudflare 模块时报重复字段错误。
- 执行 `terraform fmt`；`terraform init/plan` 因缺少 AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY 未能完成，需补齐凭据后重跑。

## 如何验证
1. 导出 `AWS_ACCESS_KEY_ID`、`AWS_SECRET_ACCESS_KEY`、`R2_BUCKET`、`R2_ACCOUNT_ID`。
2. `cd terraform && terraform init -reconfigure -backend-config="bucket=$R2_BUCKET" -backend-config="endpoints={s3=\"https://$R2_ACCOUNT_ID.r2.cloudflarestorage.com\"}"`
3. `terraform plan -var-file=terraform.tfvars`（预期应通过）。

## 后续建议
- 补充 Cloudflare zone/记录变量后接入模块，凭据就绪时跑通 plan/apply。
