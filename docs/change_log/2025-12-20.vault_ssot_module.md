# 2025-12-20: Vault Path SSOT via terraform_remote_state (Issue #301)

## Summary

Eliminated 50+ hardcoded Vault path references using native Terraform layer dependency pattern:
- L2 defines and exports Vault paths via `outputs.tf`
- L3 reads L2 outputs via `terraform_remote_state`

## Changes

### Modified Files
- `2.platform/locals.tf` - Centralized vault path definitions
- `2.platform/outputs.tf` - Export vault paths for downstream layers
- `3.data/locals.tf` - Added `terraform_remote_state.l2_platform`
- `3.data/variables.tf` - Added R2 backend variables
- `3.data/*.tf` - Data sources now read from L2 outputs

### Moved Files
- `scripts/check-readme-coverage.sh` → `0.tools/check-readme-coverage.sh`

## Root Causes Addressed (Issue #301)

| Problem | Solution |
|---------|----------|
| 硬编码 50+ 处 | Single source in `modules/vault-config/` |
| 工具链不一致 | L2/L3 both import same module |
| 契约不清晰 | Module provides compile-time validation |

## PRs
- #303: feat: shared vault-config module for SSOT

## Verification
- Atlantis plan: L2 outputs only, L3 no changes ✅
- terraform validate: Success ✅
